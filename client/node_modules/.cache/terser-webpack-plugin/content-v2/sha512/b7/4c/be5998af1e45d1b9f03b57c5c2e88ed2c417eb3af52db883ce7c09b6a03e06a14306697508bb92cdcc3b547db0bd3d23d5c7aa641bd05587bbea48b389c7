{"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{170:function(e,t,n){},214:function(e,t){},237:function(e,t){},239:function(e,t){},249:function(e,t,n){},254:function(e,t,n){\"use strict\";n.r(t);var c,r,o=n(15),a=n(0),i=n.n(a),s=n(40),l=n.n(s),u=(n(170),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,287)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),c(e),r(e),o(e),a(e)}))}),d=n(281),j=n(146),m=n(282),b=n(145),h=n.n(b),O=n(159),p=n(18),g=n(13),f=n(75),x=n(274),v=n(283),y=n(275),S=n(256),D=n(273),I=n(58),_=n.n(I),E=n(5),w=function(e){var t;var n=(new j.a).get(\"userCookie\"),c=Object(a.useState)([]),r=Object(o.a)(c,2),i=r[0],s=r[1];Object(a.useEffect)((function(){_.a.get(\"\".concat(\"https://thawing-dawn-49846.herokuapp.com/\",\"user_doc/byUser?GID=\").concat(n.GID)).then((function(e){console.log(e.data),s(e.data)}))}),[]),console.log(\"Doc List : \",i);var l=Object(D.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:\"center\",color:e.palette.text.secondary}}}))();return Object(E.jsxs)(x.a,(t={container:!0},Object(g.a)(t,\"container\",!0),Object(g.a)(t,\"spacing\",1),Object(g.a)(t,\"fullWidth\",!0),Object(g.a)(t,\"style\",{backgroundColor:\"Azure\",height:\"100vh\",padding:\"2%\"}),Object(g.a)(t,\"children\",[Object(E.jsx)(x.a,{item:!0,xs:12,style:{minWidth:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"start\"},children:Object(E.jsxs)(v.a,{style:{textAlign:\"center\"},children:[Object(E.jsxs)(\"h1\",{style:{fontFamily:\"Julius Sans One\",fontSize:\"50px\",color:\"black\"},children:[\"Prodigy\",Object(E.jsx)(\"p\",{style:{fontFamily:\"Julius Sans One\",fontSize:\"13px\",color:\"black\"},children:Object(E.jsx)(\"strong\",{children:\"A place to collaborate\"})})]}),Object(E.jsx)(y.a,{size:\"large\",className:\"room-button\",variant:\"contained\",color:\"primary\",onClick:function(){var t=Object(f.v1)();e.history.push(\"/room/\".concat(t))},children:\"Create New Doc\"})]})}),i.map((function(t,n){return Object(E.jsx)(x.a,{item:!0,xs:3,children:Object(E.jsx)(y.a,{onClick:function(){return function(t){e.history.push(\"/room/\".concat(t.doc_id))}(t)},children:Object(E.jsx)(S.a,{className:l.paper,children:Object(E.jsxs)(\"h1\",{children:[t.doc_name,Object(E.jsx)(\"p\",{style:{fontFamily:\"Julius Sans One\",fontSize:\"13px\",color:\"black\"},children:Object(E.jsx)(\"strong\",{children:t.doc_id})})]})})},n)},n)}))]),t))},T=n(151),k=n(21),C=n(94),N=n(81),R=n.n(N),A=n(95),W=n.n(A),H=n(96),P=n(276),F=n(277),G=n(278);n(141).config();var L=H.a.div(c||(c=Object(C.a)([\"\\n    padding: 20px;\\n    display: flex;\\n    height: 100vh;\\n    width: 90%;\\n    margin: auto;\\n    flex-wrap: wrap;\\n\"]))),K=H.a.video(r||(r=Object(C.a)([\"\\n    height: 40%;\\n    width: 50%;\\n\"]))),U=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){e.peer.peer.on(\"stream\",(function(e){t.current.srcObject=e}))})),Object(E.jsxs)(\"div\",{children:[Object(E.jsx)(K,{playsInline:!0,autoPlay:!0,ref:t,style:{width:\"100%\"}}),Object(E.jsx)(P.a,{children:e.peer.name})]})},V={height:window.innerHeight/2,width:window.innerWidth/2},B=function(e){var t=(new j.a).get(\"userCookie\"),n=Object(a.useState)(!1),c=Object(o.a)(n,2),r=c[0],i=c[1],s=Object(a.useState)([]),l=Object(o.a)(s,2),u=l[0],d=l[1],m=Object(a.useRef)(),b=Object(a.useRef)(),h=Object(a.useRef)([]),O={room:e.room,name:t.name,GID:t.GID};console.log(\"On Top : \",u),Object(a.useEffect)((function(){window.onbeforeunload=function(){m.current&&m.current.close(),d([])}}));var p=function(){m.current=R.a.connect(\"/\"),navigator.mediaDevices.getUserMedia({video:V,audio:!0}).then((function(e){b.current.srcObject=e,m.current.emit(\"join room\",O),m.current.on(\"all users\",(function(n){var c=[];n.forEach((function(n){var r=function(e,n,c){var r=new W.a({initiator:!0,trickle:!1,config:{iceServers:[{urls:[\"stun:bn-turn1.xirsys.com\"]},{username:\"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",credential:\"d88d47d0-84c9-11eb-a788-0242ac140004\",urls:[\"turn:bn-turn1.xirsys.com:80?transport=udp\",\"turn:bn-turn1.xirsys.com:3478?transport=udp\",\"turn:bn-turn1.xirsys.com:80?transport=tcp\",\"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\"turns:bn-turn1.xirsys.com:443?transport=tcp\",\"turns:bn-turn1.xirsys.com:5349?transport=tcp\"]}]},stream:c});return r.on(\"signal\",(function(c){m.current.emit(\"sending signal\",{userToSignal:e,callerID:n,signal:c,name:t.name,GID:t.GID})})),r}(n.socketID,m.current.id,e);h.current.push({peerID:n.socketID,peer:r,name:n.name,GID:n.GID}),c.push(r)})),d(c)})),m.current.on(\"user joined\",(function(t){var n=function(e,t,n){var c=new W.a({initiator:!1,trickle:!1,config:{iceServers:[{urls:[\"stun:bn-turn1.xirsys.com\"]},{username:\"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",credential:\"d88d47d0-84c9-11eb-a788-0242ac140004\",urls:[\"turn:bn-turn1.xirsys.com:80?transport=udp\",\"turn:bn-turn1.xirsys.com:3478?transport=udp\",\"turn:bn-turn1.xirsys.com:80?transport=tcp\",\"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\"turns:bn-turn1.xirsys.com:443?transport=tcp\",\"turns:bn-turn1.xirsys.com:5349?transport=tcp\"]}]},stream:n});return c.on(\"signal\",(function(e){m.current.emit(\"returning signal\",{signal:e,callerID:t})})),c.signal(e),c}(t.signal,t.callerID,e);h.current.push({peerID:t.callerID,peer:n,name:t.name,GID:t.GID}),d((function(e){return[].concat(Object(k.a)(e),[n])}))})),m.current.on(\"receiving returned signal\",(function(e){h.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)})),m.current.on(\"user left\",(function(e){console.log(\"Called...\");var t=h.current.find((function(t){return t.peerID===e}));t&&t.peer.destroy();var n=[];h.current.forEach((function(t){t.peerID!==e&&n.push(t.peer)}));var c=h.current.filter((function(t){return t.peerID!==e}));h.current=c,d(n)}))}))},g=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).USER_NAME||\"nmakadiya1@gmail.com\",f=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).PASSWORD||\"12345678\";console.log(\"Changed : \",g,f);return Object(E.jsx)(L,{style:{height:\"90vh\"},children:Object(E.jsxs)(F.a,{children:[Object(E.jsx)(G.a,{children:Object(E.jsx)(y.a,{variant:\"contained\",color:\"primary\",onClick:function(){r?window.location.reload():(p(),i(!0))},children:r?\"Leave Stream\":\"Join Stream\"})}),r?Object(E.jsxs)(F.a,{children:[Object(E.jsx)(G.a,{className:\"video-list\",children:Object(E.jsxs)(\"div\",{children:[Object(E.jsx)(K,{muted:!0,playsInline:!0,autoPlay:!0,ref:b,style:{width:\"100%\"}}),console.log(\"Log : \",u,h.current),Object(E.jsx)(P.a,{children:\"You\"})]})}),console.log(\"PeerRef : \",h.current),h.current.map((function(e,t){return Object(E.jsx)(G.a,{className:\"video-list\",children:Object(E.jsx)(U,{peer:e},e.peerID)},e.peerID)}))]}):null]})})},J=n(280),Y=n(20),z=n(160),q=n(158),M=n(97),Q=n.n(M),Z=n(155),X=n.n(Z),$=(n(249),n(285)),ee=n(279),te=n(156),ne=n.n(te),ce=n(157),re=n.n(ce);var oe=function(e){var t=(new j.a).get(\"userCookie\"),n=t.name,c=Object(a.useRef)(),r=Object(a.useState)(\"\"),i=Object(o.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)([]),d=Object(o.a)(u,2),m=d[0],b=d[1];console.log(\"Test\");var h=\"https://thawing-dawn-49846.herokuapp.com/\";console.log(\"production\",h);var O={room:e.roomID,name:t.name,GID:t.GID,imgURI:\"123\"};return window.onbeforeunload=function(){c.current&&c.current.close()},Object(a.useEffect)((function(){_.a.get(\"\".concat(h,\"chat?room=\").concat(e.roomID)).then((function(e){console.log(e.data),b(e.data)})),c.current=R.a.connect(h),c.current.emit(\"join chat room\",O),console.log(\"Inside UseEffect : \",m),c.current.on(\"recevied msg\",(function(e){console.log(\"yes received..\"),b((function(t){return[].concat(Object(k.a)(t),[e])})),console.log(m)}))}),[]),Object(E.jsxs)(\"div\",{className:\"chat\",children:[Object(E.jsxs)(\"div\",{className:\"chat__header\",children:[Object(E.jsx)($.a,{src:\"\"}),Object(E.jsx)(\"p\",{children:\"Room Name\"})]}),Object(E.jsx)(\"div\",{className:\"chat__body\",children:m.map((function(e,n){return Object(E.jsxs)(\"p\",{className:\"chat__message \".concat(t.name===e.userName&&\"chat__receiver\"),children:[Object(E.jsx)(\"span\",{className:\"chat__name\",children:e.userName}),e.msg,Object(E.jsx)(\"span\",{className:\"chat__timestamp\",children:e.time})]},n)}))}),Object(E.jsxs)(\"div\",{className:\"chat__footer\",children:[Object(E.jsx)(ee.a,{children:Object(E.jsx)(ne.a,{})}),Object(E.jsxs)(\"form\",{children:[Object(E.jsx)(\"input\",{value:s,onChange:function(e){return l(e.target.value)},placeholder:\"Type a message\",type:\"text\"}),Object(E.jsx)(\"button\",{onClick:function(t){t.preventDefault();var r={userName:n,photoUri:\"123\",msg:s,time:new Date,room:e.roomID};c.current.emit(\"send msg\",r),l(\"\")},type:\"submit\",children:\"Send message\"})]}),Object(E.jsx)(ee.a,{children:Object(E.jsx)(re.a,{})})]})]})};function ae(e){var t=e.match.params.roomID;Q.a.register(\"modules/cursors\",X.a);var n=new Y.Doc,c=(new j.a).get(\"userCookie\"),r=c.name,o={userName:c.name,photoUri:\"123\",GID:c.GID,doc_name:\"xyz\",doc_id:t};Object(a.useEffect)((function(){console.log(o),_.a.post(\"\".concat(\"https://thawing-dawn-49846.herokuapp.com/\",\"user_doc\"),o).then((function(e){console.log(e)}))}),[]);var i=new z.a(\"wss://shielded-sierra-61478.herokuapp.com\",\"\".concat(t),n),s=n.getText(\"\".concat(t));return Object(a.useEffect)((function(){var e=document.getElementById(\"editor\"),t=new Q.a(e,{modules:{cursors:!0,toolbar:[[\"bold\",\"italic\",\"underline\",\"strike\"],[\"blockquote\",\"code-block\"],[{header:1},{header:2}],[{list:\"ordered\"},{list:\"bullet\"}],[{script:\"sub\"},{script:\"super\"}],[{indent:\"-1\"},{indent:\"+1\"}],[{direction:\"rtl\"}],[{size:[\"small\",!1,\"large\",\"huge\"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],[\"clean\"]],history:{userOnly:!0}},placeholder:\"Start collaborating...\",theme:\"snow\"}),c=new q.a(s,t,i.awareness);r||(Object(T.a)(\"username\"),r=\"Anonymous\"),i.awareness.setLocalStateField(\"user\",{name:\"\".concat(r),color:\"blue\"}),window.example={provider:i,ydoc:n,type:s,binding:c,Y:Y}})),Object(E.jsx)(\"div\",{children:Object(E.jsxs)(x.a,{container:!0,direction:\"row\",justify:\"center\",alignItems:\"center\",spacing:1,children:[Object(E.jsx)(x.a,{item:!0,xs:2,style:{maxHeight:\"100vh\"},children:Object(E.jsx)(B,{room:t,style:{height:\"inherit\"}})}),Object(E.jsx)(x.a,{item:!0,xs:7,children:Object(E.jsx)(J.a,{children:Object(E.jsx)(\"div\",{id:\"editor\"})})}),Object(E.jsx)(x.a,{item:!0,xs:3,style:{height:\"100%\"},alignItems:\"end\",children:Object(E.jsx)(oe,{roomID:t})})]})})}var ie=function(){return Object(E.jsx)(O.a,{children:Object(E.jsxs)(p.c,{children:[Object(E.jsx)(p.a,{path:\"/\",exact:!0,component:w}),Object(E.jsx)(p.a,{path:\"/room/:roomID\",component:ae})]})})};n(141).config();var se=function(){var e=Object(d.a)([\"\"]),t=Object(o.a)(e,2),n=(t[0],t[1]),c=(new j.a).get(\"userCookie\"),r=Object(a.useState)(!!c),s=Object(o.a)(r,2),l=s[0],u=s[1];console.log(\"From ENV:\",Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLIENT_ID);var b=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).CLIENT_ID||\"39603121170-058n9lara0vqjr2fomfv4nndgsd3aarm.apps.googleusercontent.com\";return Object(E.jsx)(m.a,{children:Object(E.jsx)(i.a.StrictMode,{children:l?Object(E.jsx)(ie,{}):Object(E.jsxs)(x.a,{container:!0,direction:\"column\",justify:\"center\",alignItems:\"center\",fullWidth:!0,style:{backgroundColor:\"LightBlue\",height:\"100vh\"},children:[Object(E.jsx)(x.a,{item:!0,xs:4,style:{minHeight:\"33vh\",minWidth:\"100%\"}}),Object(E.jsx)(x.a,{item:!0,xs:4,style:{minHeight:\"33vh\",minWidth:\"100%\",display:\"flex\",justifyContent:\"center\",alignItems:\"start\"},children:Object(E.jsxs)(v.a,{style:{textAlign:\"center\"},children:[Object(E.jsxs)(\"h1\",{style:{fontFamily:\"Julius Sans One\",fontSize:\"50px\",color:\"black\"},children:[\"Prodigy\",Object(E.jsx)(\"p\",{style:{fontFamily:\"Julius Sans One\",fontSize:\"13px\",color:\"black\"},children:Object(E.jsx)(\"strong\",{children:\"A place to collaborate\"})})]}),Object(E.jsx)(h.a,{clientId:b,onSuccess:function(e){console.log(\"Success\"),console.log(e);var t={accessToken:e.accessToken,tokenId:e.tokenId,email:e.profileObj.email,name:e.profileObj.name,GID:e.googleId};console.log(t),n(\"userCookie\",t),u(!0)},onFailure:function(e){console.log(\"Failed \",e)},children:Object(E.jsx)(\"strong\",{children:\"Sign in with Google\"})})]})}),Object(E.jsx)(x.a,{item:!0,xs:4,style:{minHeight:\"33vh\",minWidth:\"100%\"}})]})})})};l.a.render(Object(E.jsx)(se,{}),document.getElementById(\"root\")),u()}},[[254,1,2]]]);","name":"static/js/main.cc40e298.chunk.js","map":{"version":3,"sources":["static/js/main.cc40e298.chunk.js"],"names":["this","push","170","module","exports","__webpack_require__","214","237","239","249","254","__webpack_exports__","r","_templateObject","_templateObject2","slicedToArray","react","react_default","n","react_dom","react_dom_default","src_reportWebVitals","onPerfEntry","Function","e","then","bind","_ref","getCLS","getFID","getFCP","getLCP","getTTFB","useCookies","Cookies","CookiesProvider","google_login","google_login_default","react_router_dom","react_router","defineProperty","uuid","Grid","Box","Button","Paper","makeStyles","axios","axios_default","jsx_runtime","routes_CreateRoom","props","_jsxs2","userCookie","get","_useState","Object","_useState2","docs","setDocs","a","concat","GID","res","console","log","data","classes","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","useStyles","container","backgroundColor","height","item","xs","style","minWidth","display","justifyContent","alignItems","children","fontFamily","fontSize","size","className","variant","onClick","id","history","map","doc","i","doc_id","open","doc_name","readOnlyError","toConsumableArray","taggedTemplateLiteral","lib","lib_default","simple_peer","simple_peer_default","styled_components_browser_esm","Typography","List","ListItem","config","Container","div","StyledVideo","video","AudioChannel_Video","ref","peer","on","stream","current","srcObject","playsInline","autoPlay","width","name","videoConstraints","window","innerHeight","innerWidth","routes_AudioChannel","isAudio","setAudio","_useState3","_useState4","peers","setPeers","socketRef","userVideo","peersRef","userDetail","room","onbeforeunload","close","wantsToJoin","connect","navigator","mediaDevices","getUserMedia","audio","emit","users","forEach","user","userToSignal","callerID","initiator","trickle","iceServers","urls","username","credential","signal","createPeer","socketID","peerID","payload","incomingSignal","addPeer","find","p","peerObj","destroy","remaining","row","filter","username_stun","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","undefined","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","USER_NAME","passsword_stun","PASSWORD","location","reload","muted","index","Card","yjs","y_websocket","y_quill","quill","quill_default","quill_cursors","quill_cursors_default","Avatar","IconButton","EmojiEmotionsOutlined","EmojiEmotionsOutlined_default","AddIcCallOutlined","AddIcCallOutlined_default","routes_Chat","userName","input","setInput","messages","setMessages","url","roomID","imgURI","msgs","src","message","msg","time","value","onChange","target","placeholder","type","preventDefault","obj","photoUri","Date","Room","match","params","register","ydoc","post","provider","getText","EditorContainer","document","getElementById","editor","modules","cursors","toolbar","header","list","script","indent","direction","background","font","align","userOnly","binding","awareness","setLocalStateField","example","Y","justify","maxHeight","src_Home","path","exact","component","src_Connect","_useCookies","_useCookies2","setCookie","setUser","CLIENT_ID","client_Id","StrictMode","fullWidth","minHeight","clientId","onSuccess","response","authCookie","accessToken","tokenId","email","profileObj","googleId","onFailure","render"],"mappings":"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"},"input":"(this[\"webpackJsonpclient\"] = this[\"webpackJsonpclient\"] || []).push([[0],{\n\n/***/ 170:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 214:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 237:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 239:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 249:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 254:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(15);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(40);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(170);\n\n// CONCATENATED MODULE: ./src/reportWebVitals.js\nvar reportWebVitals=function reportWebVitals(onPerfEntry){if(onPerfEntry&&onPerfEntry instanceof Function){__webpack_require__.e(/* import() */ 3).then(__webpack_require__.bind(null, 287)).then(function(_ref){var getCLS=_ref.getCLS,getFID=_ref.getFID,getFCP=_ref.getFCP,getLCP=_ref.getLCP,getTTFB=_ref.getTTFB;getCLS(onPerfEntry);getFID(onPerfEntry);getFCP(onPerfEntry);getLCP(onPerfEntry);getTTFB(onPerfEntry);});}};/* harmony default export */ var src_reportWebVitals = (reportWebVitals);\n// EXTERNAL MODULE: ./node_modules/react-cookie/es6/useCookies.js\nvar useCookies = __webpack_require__(281);\n\n// EXTERNAL MODULE: ./node_modules/react-cookie/es6/Cookies.js\nvar Cookies = __webpack_require__(146);\n\n// EXTERNAL MODULE: ./node_modules/react-cookie/es6/CookiesProvider.js\nvar CookiesProvider = __webpack_require__(282);\n\n// EXTERNAL MODULE: ./node_modules/react-google-login/dist/google-login.js\nvar google_login = __webpack_require__(145);\nvar google_login_default = /*#__PURE__*/__webpack_require__.n(google_login);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(159);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(18);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(13);\n\n// EXTERNAL MODULE: ./node_modules/uuid/index.js\nvar uuid = __webpack_require__(75);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(274);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Box/Box.js + 14 modules\nvar Box = __webpack_require__(283);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Button/Button.js\nvar Button = __webpack_require__(275);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Paper/Paper.js\nvar Paper = __webpack_require__(256);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/styles/makeStyles.js\nvar makeStyles = __webpack_require__(273);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(58);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(5);\n\n// CONCATENATED MODULE: ./src/routes/CreateRoom.js\nvar CreateRoom_CreateRoom=function CreateRoom(props){var _jsxs2;function create(){var id=Object(uuid[\"v1\"])();props.history.push(\"/room/\".concat(id));}function open(doc){props.history.push(\"/room/\".concat(doc.doc_id));}var cookies=new Cookies[\"a\" /* default */]();var userCookie=cookies.get('userCookie');var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),docs=_useState2[0],setDocs=_useState2[1];var url= true?\"https://thawing-dawn-49846.herokuapp.com/\":undefined;Object(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(url,\"user_doc/byUser?GID=\").concat(userCookie.GID)).then(function(res){console.log(res.data);setDocs(res.data);});},[]);console.log(\"Doc List : \",docs);var useStyles=Object(makeStyles[\"a\" /* default */])(function(theme){return{root:{flexGrow:1},paper:{padding:theme.spacing(2),textAlign:'center',color:theme.palette.text.secondary}};});var classes=useStyles();return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],(_jsxs2={container:true},Object(defineProperty[\"a\" /* default */])(_jsxs2,\"container\",true),Object(defineProperty[\"a\" /* default */])(_jsxs2,\"spacing\",1),Object(defineProperty[\"a\" /* default */])(_jsxs2,\"fullWidth\",true),Object(defineProperty[\"a\" /* default */])(_jsxs2,\"style\",{backgroundColor:\"Azure\",height:100+'vh',padding:\"2%\"}),Object(defineProperty[\"a\" /* default */])(_jsxs2,\"children\",[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,style:{minWidth:100+'%',display:'flex',justifyContent:'center',alignItems:'start'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{style:{textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{style:{fontFamily:'Julius Sans One',fontSize:50+'px',color:\"black\"},children:[\"Prodigy\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{fontFamily:'Julius Sans One',fontSize:13+'px',color:\"black\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"A place to collaborate\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{size:\"large\",className:\"room-button\",variant:\"contained\",color:\"primary\",onClick:create,children:\"Create New Doc\"})]})}),docs.map(function(doc,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return open(doc);},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Paper[\"a\" /* default */],{className:classes.paper,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[doc.doc_name,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{fontFamily:'Julius Sans One',fontSize:13+'px',color:\"black\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:doc.doc_id})})]})})},i)},i);})]),_jsxs2));};/* harmony default export */ var routes_CreateRoom = (CreateRoom_CreateRoom);\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/readOnlyError.js\nvar readOnlyError = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\nvar taggedTemplateLiteral = __webpack_require__(94);\n\n// EXTERNAL MODULE: ./node_modules/socket.io-client/lib/index.js\nvar lib = __webpack_require__(81);\nvar lib_default = /*#__PURE__*/__webpack_require__.n(lib);\n\n// EXTERNAL MODULE: ./node_modules/simple-peer/index.js\nvar simple_peer = __webpack_require__(95);\nvar simple_peer_default = /*#__PURE__*/__webpack_require__.n(simple_peer);\n\n// EXTERNAL MODULE: ./node_modules/styled-components/dist/styled-components.browser.esm.js\nvar styled_components_browser_esm = __webpack_require__(96);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Typography/Typography.js\nvar Typography = __webpack_require__(276);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/List/List.js\nvar List = __webpack_require__(277);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/ListItem/ListItem.js\nvar ListItem = __webpack_require__(278);\n\n// CONCATENATED MODULE: ./src/routes/AudioChannel.js\nvar _templateObject,_templateObject2;__webpack_require__(141).config();var Container=styled_components_browser_esm[\"a\" /* default */].div(_templateObject||(_templateObject=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    padding: 20px;\\n    display: flex;\\n    height: 100vh;\\n    width: 90%;\\n    margin: auto;\\n    flex-wrap: wrap;\\n\"])));var StyledVideo=styled_components_browser_esm[\"a\" /* default */].video(_templateObject2||(_templateObject2=Object(taggedTemplateLiteral[\"a\" /* default */])([\"\\n    height: 40%;\\n    width: 50%;\\n\"])));var AudioChannel_Video=function Video(props){var ref=Object(react[\"useRef\"])();Object(react[\"useEffect\"])(function(){props.peer.peer.on(\"stream\",function(stream){ref.current.srcObject=stream;});});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledVideo,{playsInline:true,autoPlay:true,ref:ref,style:{width:100+'%'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:props.peer.name})]});};var videoConstraints={height:window.innerHeight/2,width:window.innerWidth/2};var AudioChannel_AudioChannel=function AudioChannel(props){var cookies=new Cookies[\"a\" /* default */]();var userCookie=cookies.get('userCookie');var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isAudio=_useState2[0],setAudio=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),peers=_useState4[0],setPeers=_useState4[1];var socketRef=Object(react[\"useRef\"])();var userVideo=Object(react[\"useRef\"])();var peersRef=Object(react[\"useRef\"])([]);var roomID=props.room;var userDetail={room:roomID,name:userCookie.name,GID:userCookie.GID};console.log(\"On Top : \",peers);Object(react[\"useEffect\"])(function(){window.onbeforeunload=function(){if(socketRef.current){socketRef.current.close();}setPeers([]);};});var wantsToJoin=function wantsToJoin(){socketRef.current=lib_default.a.connect(\"/\");navigator.mediaDevices.getUserMedia({video:videoConstraints,audio:true}).then(function(stream){userVideo.current.srcObject=stream;socketRef.current.emit(\"join room\",userDetail);socketRef.current.on(\"all users\",function(users){var peers=[];users.forEach(function(user){var peer=createPeer(user.socketID,socketRef.current.id,stream);peersRef.current.push({peerID:user.socketID,peer:peer,name:user.name,GID:user.GID});peers.push(peer);});setPeers(peers);});socketRef.current.on(\"user joined\",function(payload){var peer=addPeer(payload.signal,payload.callerID,stream);peersRef.current.push({peerID:payload.callerID,peer:peer,name:payload.name,GID:payload.GID});setPeers(function(users){return[].concat(Object(toConsumableArray[\"a\" /* default */])(users),[peer]);});});socketRef.current.on(\"receiving returned signal\",function(payload){var item=peersRef.current.find(function(p){return p.peerID===payload.id;});item.peer.signal(payload.signal);});socketRef.current.on(\"user left\",function(id){console.log(\"Called...\");var peerObj=peersRef.current.find(function(p){return p.peerID===id;});if(peerObj){peerObj.peer.destroy();}var remaining=[];peersRef.current.forEach(function(row){if(row.peerID!==id){remaining.push(row.peer);}});var peers=peersRef.current.filter(function(p){return p.peerID!==id;});peersRef.current=peers;setPeers(remaining);});});};var username_stun=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).USER_NAME||\"nmakadiya1@gmail.com\";var passsword_stun=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).PASSWORD||\"12345678\";console.log(\"Changed : \",username_stun,passsword_stun);function createPeer(userToSignal,callerID,stream){var peer=new simple_peer_default.a({initiator:true,trickle:false,config:{iceServers:[{urls:[\"stun:bn-turn1.xirsys.com\"]},{username:\"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",credential:\"d88d47d0-84c9-11eb-a788-0242ac140004\",urls:[\"turn:bn-turn1.xirsys.com:80?transport=udp\",\"turn:bn-turn1.xirsys.com:3478?transport=udp\",\"turn:bn-turn1.xirsys.com:80?transport=tcp\",\"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\"turns:bn-turn1.xirsys.com:443?transport=tcp\",\"turns:bn-turn1.xirsys.com:5349?transport=tcp\"]}]},stream:stream});peer.on(\"signal\",function(signal){socketRef.current.emit(\"sending signal\",{userToSignal:userToSignal,callerID:callerID,signal:signal,name:userCookie.name,GID:userCookie.GID});});return peer;}function addPeer(incomingSignal,callerID,stream){var peer=new simple_peer_default.a({initiator:false,trickle:false,config:{iceServers:[{urls:[\"stun:bn-turn1.xirsys.com\"]},{username:\"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",credential:\"d88d47d0-84c9-11eb-a788-0242ac140004\",urls:[\"turn:bn-turn1.xirsys.com:80?transport=udp\",\"turn:bn-turn1.xirsys.com:3478?transport=udp\",\"turn:bn-turn1.xirsys.com:80?transport=tcp\",\"turn:bn-turn1.xirsys.com:3478?transport=tcp\",\"turns:bn-turn1.xirsys.com:443?transport=tcp\",\"turns:bn-turn1.xirsys.com:5349?transport=tcp\"]}]},stream:stream});peer.on(\"signal\",function(signal){socketRef.current.emit(\"returning signal\",{signal:signal,callerID:callerID});});peer.signal(incomingSignal);return peer;}var HandleAudio=function HandleAudio(){//Wants To Leave\nif(isAudio){window.location.reload();}//Wants to Join\nelse{wantsToJoin();setAudio(true);}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Container,{style:{height:90+'vh'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{variant:\"contained\",color:\"primary\",onClick:HandleAudio,children:isAudio?\"Leave Stream\":\"Join Stream\"})}),isAudio?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(List[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{className:\"video-list\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StyledVideo,{muted:true,playsInline:true,autoPlay:true,ref:userVideo,style:{width:100+'%'}}),console.log(\"Log : \",peers,peersRef.current),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Typography[\"a\" /* default */],{children:\"You\"})]})}),console.log('PeerRef : ',peersRef.current),peersRef.current.map(function(peer,index){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ListItem[\"a\" /* default */],{className:\"video-list\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AudioChannel_Video,{peer:peer},peer.peerID)},peer.peerID);})]}):null]})});};/* harmony default export */ var routes_AudioChannel = (AudioChannel_AudioChannel);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(280);\n\n// EXTERNAL MODULE: ./node_modules/yjs/dist/yjs.mjs + 11 modules\nvar yjs = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/y-websocket/src/y-websocket.js + 4 modules\nvar y_websocket = __webpack_require__(160);\n\n// EXTERNAL MODULE: ./node_modules/y-quill/src/y-quill.js\nvar y_quill = __webpack_require__(158);\n\n// EXTERNAL MODULE: ./node_modules/quill/dist/quill.js\nvar quill = __webpack_require__(97);\nvar quill_default = /*#__PURE__*/__webpack_require__.n(quill);\n\n// EXTERNAL MODULE: ./node_modules/quill-cursors/dist/quill-cursors.js\nvar quill_cursors = __webpack_require__(155);\nvar quill_cursors_default = /*#__PURE__*/__webpack_require__.n(quill_cursors);\n\n// EXTERNAL MODULE: ./src/routes/Chat.css\nvar Chat = __webpack_require__(249);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Avatar/Avatar.js + 1 modules\nvar Avatar = __webpack_require__(285);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/IconButton/IconButton.js\nvar IconButton = __webpack_require__(279);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/EmojiEmotionsOutlined.js\nvar EmojiEmotionsOutlined = __webpack_require__(156);\nvar EmojiEmotionsOutlined_default = /*#__PURE__*/__webpack_require__.n(EmojiEmotionsOutlined);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/icons/AddIcCallOutlined.js\nvar AddIcCallOutlined = __webpack_require__(157);\nvar AddIcCallOutlined_default = /*#__PURE__*/__webpack_require__.n(AddIcCallOutlined);\n\n// CONCATENATED MODULE: ./src/routes/Chat.js\nfunction Chat_Chat(props){var cookies=new Cookies[\"a\" /* default */]();var userCookie=cookies.get('userCookie');var userName=userCookie.name;var socketRef=Object(react[\"useRef\"])();var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),messages=_useState4[0],setMessages=_useState4[1];console.log(\"Test\");var url= true?\"https://thawing-dawn-49846.herokuapp.com/\":undefined;console.log(\"production\",url);var userDetail={room:props.roomID,name:userCookie.name,GID:userCookie.GID,imgURI:\"123\"};window.onbeforeunload=function(){if(socketRef.current){socketRef.current.close();}};Object(react[\"useEffect\"])(function(){axios_default.a.get(\"\".concat(url,\"chat?room=\").concat(props.roomID)).then(function(res){console.log(res.data);setMessages(res.data);});socketRef.current=lib_default.a.connect(url);socketRef.current.emit(\"join chat room\",userDetail);console.log(\"Inside UseEffect : \",messages);socketRef.current.on('recevied msg',function(data){console.log(\"yes received..\");setMessages(function(msgs){return[].concat(Object(toConsumableArray[\"a\" /* default */])(msgs),[data]);});console.log(messages);});},[]);var sendMessage=function sendMessage(e){e.preventDefault();var obj={userName:userName,photoUri:\"123\",msg:input,time:new Date(),room:props.roomID};socketRef.current.emit('send msg',obj);//     axios.post(`${url}chat`,obj,{headers: {\n//     'Content-Type': 'application/json'\n//   }}).then((res)=>{\n//         console.log(res);\n//     })\nsetInput('');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Avatar[\"a\" /* default */],{src:\"\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Room Name\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat__body\",children:messages.map(function(message,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{className:\"chat__message \".concat(userCookie.name===message.userName&&'chat__receiver'),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__name\",children:message.userName}),message.msg,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"chat__timestamp\",children:message.time})]},i);})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat__footer\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(EmojiEmotionsOutlined_default.a,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{value:input,onChange:function onChange(e){return setInput(e.target.value);},placeholder:\"Type a message\",type:\"text\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:sendMessage,type:\"submit\",children:\"Send message\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(IconButton[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AddIcCallOutlined_default.a,{})})]})]});}/* harmony default export */ var routes_Chat = (Chat_Chat);\n// CONCATENATED MODULE: ./src/routes/Room.js\nfunction Room(props){var roomID=props.match.params.roomID;quill_default.a.register('modules/cursors',quill_cursors_default.a);var ydoc=new yjs[\"Doc\"]();var cookies=new Cookies[\"a\" /* default */]();var userCookie=cookies.get('userCookie');var username=userCookie.name;var obj={userName:userCookie.name,photoUri:\"123\",GID:userCookie.GID,doc_name:\"xyz\",doc_id:roomID};var url= true?\"https://thawing-dawn-49846.herokuapp.com/\":undefined;Object(react[\"useEffect\"])(function(){console.log(obj);axios_default.a.post(\"\".concat(url,\"user_doc\"),obj).then(function(res){console.log(res);});},[]);var provider=new y_websocket[\"a\" /* WebsocketProvider */]('wss://shielded-sierra-61478.herokuapp.com',\"\".concat(roomID),ydoc);var type=ydoc.getText(\"\".concat(roomID));Object(react[\"useEffect\"])(function(){var EditorContainer=document.getElementById(\"editor\");var toolbarOptions=[['bold','italic','underline','strike'],// toggled buttons\n['blockquote','code-block'],[{'header':1},{'header':2}],// custom button values\n[{'list':'ordered'},{'list':'bullet'}],[{'script':'sub'},{'script':'super'}],// superscript/subscript\n[{'indent':'-1'},{'indent':'+1'}],// outdent/indent\n[{'direction':'rtl'}],// text direction\n[{'size':['small',false,'large','huge']}],// custom dropdown\n[{'header':[1,2,3,4,5,6,false]}],[{'color':[]},{'background':[]}],// dropdown with defaults from theme\n[{'font':[]}],[{'align':[]}],['clean']];var editor=new quill_default.a(EditorContainer,{modules:{cursors:true,toolbar:toolbarOptions,history:{userOnly:true}},placeholder:'Start collaborating...',theme:'snow'// or 'bubble'\n});var binding=new y_quill[\"a\" /* QuillBinding */](type,editor,provider.awareness);//console.log(provider.awareness);\nif(!username)username=(Object(readOnlyError[\"a\" /* default */])(\"username\"),'Anonymous');provider.awareness.setLocalStateField('user',{name:\"\".concat(username),color:'blue'});// @ts-ignore\nwindow.example={provider:provider,ydoc:ydoc,type:type,binding:binding,Y:yjs};});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,direction:\"row\",justify:\"center\",alignItems:\"center\",spacing:1,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:2,style:{maxHeight:100+'vh'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_AudioChannel,{room:roomID,style:{height:'inherit'}})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:7,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"editor\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:3,style:{height:100+'%'},alignItems:\"end\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_Chat,{roomID:roomID})})]})});}\n// CONCATENATED MODULE: ./src/Home.js\nfunction Home(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"c\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/\",exact:true,component:routes_CreateRoom}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Route */],{path:\"/room/:roomID\",component:Room})]})});}/* harmony default export */ var src_Home = (Home);\n// CONCATENATED MODULE: ./src/index.js\n__webpack_require__(141).config();var src_Connect=function Connect(){var _useCookies=Object(useCookies[\"a\" /* default */])(['']),_useCookies2=Object(slicedToArray[\"a\" /* default */])(_useCookies,2),cookie=_useCookies2[0],setCookie=_useCookies2[1];var cookies=new Cookies[\"a\" /* default */]();var userCookie=cookies.get('userCookie');var _useState=Object(react[\"useState\"])(userCookie?true:false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),user=_useState2[0],setUser=_useState2[1];console.log(\"From ENV:\",Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).CLIENT_ID);var client_Id=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).CLIENT_ID||\"39603121170-058n9lara0vqjr2fomfv4nndgsd3aarm.apps.googleusercontent.com\";var responseGoogle=function responseGoogle(response){console.log(\"Success\");console.log(response);var authCookie={accessToken:response.accessToken,tokenId:response.tokenId,email:response.profileObj.email,name:response.profileObj.name,GID:response.googleId};console.log(authCookie);setCookie('userCookie',authCookie);setUser(true);};var fail=function fail(res){console.log(\"Failed \",res);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CookiesProvider[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Home,{}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{container:true,direction:\"column\",justify:\"center\",alignItems:\"center\",fullWidth:true,style:{backgroundColor:\"LightBlue\",height:100+'vh'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:4,style:{minHeight:33+'vh',minWidth:100+'%'}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:4,style:{minHeight:33+'vh',minWidth:100+'%',display:'flex',justifyContent:'center',alignItems:'start'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Box[\"a\" /* default */],{style:{textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{style:{fontFamily:'Julius Sans One',fontSize:50+'px',color:\"black\"},children:[\"Prodigy\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{fontFamily:'Julius Sans One',fontSize:13+'px',color:\"black\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"A place to collaborate\"})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(google_login_default.a,{clientId:client_Id,onSuccess:responseGoogle,onFailure:fail,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"strong\",{children:\"Sign in with Google\"})})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:4,style:{minHeight:33+'vh',minWidth:100+'%'}})]})})});};react_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_Connect,{}),document.getElementById('root'));// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nsrc_reportWebVitals();\n\n/***/ })\n\n},[[254,1,2]]]);","inputSourceMap":{"version":3,"sources":["/media/neel/DATA/WebD/Smart Doc/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/media/neel/DATA/WebD/Smart Doc/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/media/neel/DATA/WebD/Smart Doc/client/node_modules/postcss-loader/src/index.js??postcss!/media/neel/DATA/WebD/Smart Doc/client/src/index.css","ignored /media/neel/DATA/WebD/Smart Doc/client/node_modules/engine.io-client/lib/transports ws","ignored /media/neel/DATA/WebD/Smart Doc/client/node_modules/simple-peer/node_modules/readable-stream/lib util","ignored /media/neel/DATA/WebD/Smart Doc/client/node_modules/simple-peer/node_modules/readable-stream/lib/internal/streams util","/media/neel/DATA/WebD/Smart Doc/client/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/media/neel/DATA/WebD/Smart Doc/client/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/media/neel/DATA/WebD/Smart Doc/client/node_modules/postcss-loader/src/index.js??postcss!/media/neel/DATA/WebD/Smart Doc/client/src/routes/Chat.css","/media/neel/DATA/WebD/Smart Doc/client/src/reportWebVitals.js","/media/neel/DATA/WebD/Smart Doc/client/src/routes/CreateRoom.js","/media/neel/DATA/WebD/Smart Doc/client/src/routes/AudioChannel.js","/media/neel/DATA/WebD/Smart Doc/client/src/routes/Chat.js","/media/neel/DATA/WebD/Smart Doc/client/src/routes/Room.js","/media/neel/DATA/WebD/Smart Doc/client/src/Home.js","/media/neel/DATA/WebD/Smart Doc/client/src/index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","CreateRoom","props","create","id","uuid","history","push","open","doc","doc_id","cookies","Cookies","userCookie","get","useState","docs","setDocs","url","process","useEffect","axios","GID","res","console","log","data","useStyles","makeStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","classes","backgroundColor","height","minWidth","display","justifyContent","alignItems","fontFamily","fontSize","map","i","doc_name","require","config","Container","styled","div","StyledVideo","video","Video","ref","useRef","peer","on","stream","current","srcObject","width","name","videoConstraints","window","innerHeight","innerWidth","AudioChannel","isAudio","setAudio","peers","setPeers","socketRef","userVideo","peersRef","roomID","room","userDetail","onbeforeunload","close","wantsToJoin","io","connect","navigator","mediaDevices","getUserMedia","audio","emit","users","forEach","user","createPeer","socketID","peerID","payload","addPeer","signal","callerID","item","find","p","peerObj","destroy","remaining","row","filter","username_stun","USER_NAME","passsword_stun","PASSWORD","userToSignal","Peer","initiator","trickle","iceServers","urls","username","credential","incomingSignal","HandleAudio","location","reload","index","Chat","userName","input","setInput","messages","setMessages","imgURI","msgs","sendMessage","e","preventDefault","obj","photoUri","msg","time","Date","message","target","value","Room","match","params","Quill","register","QuillCursors","ydoc","Y","post","provider","WebsocketProvider","type","getText","EditorContainer","document","getElementById","toolbarOptions","editor","modules","cursors","toolbar","userOnly","placeholder","binding","QuillBinding","awareness","setLocalStateField","example","maxHeight","Home","Connect","useCookies","cookie","setCookie","setUser","CLIENT_ID","client_Id","responseGoogle","response","authCookie","accessToken","tokenId","email","profileObj","googleId","fail","minHeight","ReactDOM","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","// extracted by mini-css-extract-plugin","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React,{useState,useEffect} from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport {Button, Grid, Box} from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport axios from \"axios\";\r\n\r\nconst CreateRoom = (props) => {\r\n    \r\n    function create() {\r\n        const id = uuid();\r\n        props.history.push(`/room/${id}`);\r\n    }\r\n\r\n    function open(doc){\r\n        props.history.push(`/room/${doc.doc_id}`);\r\n    }\r\n\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n\r\n    const [docs,setDocs]=useState([]);\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n\r\n    useEffect(() => {\r\n        axios.get(`${url}user_doc/byUser?GID=${userCookie.GID}`).then((res)=>{\r\n            console.log(res.data);\r\n            setDocs(res.data);\r\n        })\r\n    }, []);\r\n\r\n    console.log(\"Doc List : \",docs);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(2),\r\n            textAlign: 'center',\r\n            color: theme.palette.text.secondary,\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n\r\n        <Grid\r\n            container\r\n            container \r\n            spacing={1}\r\n            fullWidth\r\n            style={{backgroundColor:\"Azure\",height:100+'vh',padding:\"2%\"}}\r\n        >\r\n            <Grid \r\n                item xs={12} \r\n                style={{minWidth:100+'%', display:'flex', justifyContent:'center', alignItems:'start'}}\r\n            >    \r\n                <Box style={{textAlign:'center'}}>\r\n                    <h1 style={{fontFamily: 'Julius Sans One',fontSize:50+'px',color:\"black\"}}>Prodigy\r\n                        <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>A place to collaborate</strong></p>\r\n                    </h1>\r\n                    <Button size=\"large\" className=\"room-button\" variant=\"contained\" color=\"primary\" onClick={create}>Create New Doc</Button>\r\n                </Box>\r\n            </Grid>\r\n\r\n            {docs.map((doc,i)=>{\r\n                return(\r\n                    <Grid key={i} item xs={3} >\r\n                        <Button key={i} onClick={()=>open(doc)}>\r\n                            <Paper className={classes.paper}>\r\n                                <h1>{doc.doc_name}\r\n                                    <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>{doc.doc_id}</strong></p>\r\n                                </h1>\r\n                            </Paper>\r\n                        </Button>\r\n                    </Grid>\r\n                )\r\n            })}\r\n\r\n\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport Peer from \"simple-peer\";\r\nimport styled from \"styled-components\";\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport{ Card, List, ListItem,Button,Typography, Grid, Divider, ListItemText} from '@material-ui/core';\r\nimport { v1 as uuid } from \"uuid\";\r\nrequire('dotenv').config();\r\n\r\nconst Container = styled.div`\r\n    padding: 20px;\r\n    display: flex;\r\n    height: 100vh;\r\n    width: 90%;\r\n    margin: auto;\r\n    flex-wrap: wrap;\r\n`;\r\n\r\nconst StyledVideo = styled.video`\r\n    height: 40%;\r\n    width: 50%;\r\n`;\r\n\r\nconst Video = (props) => {\r\n    const ref = useRef();\r\n\r\n    useEffect(() => {\r\n        props.peer.peer.on(\"stream\", stream => {\r\n            ref.current.srcObject = stream;\r\n        })\r\n    });\r\n\r\n    return (\r\n        <div>\r\n            <StyledVideo playsInline autoPlay ref={ref} style={{width:100+'%'}} />\r\n            <Typography>{props.peer.name}</Typography>\r\n        </div>\r\n        \r\n    );\r\n}\r\n\r\n\r\nconst videoConstraints = {\r\n    height: window.innerHeight / 2,\r\n    width: window.innerWidth / 2\r\n};\r\n\r\nconst AudioChannel = (props) => {\r\n\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n\r\n    const [isAudio,setAudio]=useState(false);\r\n    const [peers, setPeers] = useState([]);\r\n    const socketRef = useRef();\r\n    const userVideo = useRef();\r\n    const peersRef = useRef([]);\r\n    const roomID = props.room;\r\n\r\n    const userDetail={\r\n        room:roomID,\r\n        name:userCookie.name,\r\n        GID:userCookie.GID\r\n    }\r\n\r\n    console.log(\"On Top : \",peers);\r\n\r\n    useEffect(()=>{\r\n         window.onbeforeunload =()=>{\r\n            if(socketRef.current){\r\n                socketRef.current.close();\r\n            } \r\n            setPeers([]);\r\n         }\r\n    })\r\n\r\n    const wantsToJoin=()=>{\r\n        socketRef.current = io.connect(\"/\");\r\n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\r\n            userVideo.current.srcObject = stream;\r\n            socketRef.current.emit(\"join room\", userDetail);\r\n            socketRef.current.on(\"all users\", users => {\r\n                const peers = [];\r\n                users.forEach(user => {\r\n                    const peer = createPeer(user.socketID, socketRef.current.id, stream);\r\n                    peersRef.current.push({\r\n                        peerID: user.socketID,\r\n                        peer,\r\n                        name:user.name,\r\n                        GID:user.GID\r\n                    })\r\n                    peers.push(peer);\r\n                })\r\n                setPeers(peers);\r\n            })\r\n\r\n            socketRef.current.on(\"user joined\", payload => {\r\n                const peer = addPeer(payload.signal, payload.callerID, stream);\r\n                peersRef.current.push({\r\n                    peerID: payload.callerID,\r\n                    peer,\r\n                    name:payload.name,\r\n                    GID:payload.GID\r\n                })\r\n\r\n                setPeers(users => [...users, peer]);\r\n            });\r\n\r\n            socketRef.current.on(\"receiving returned signal\", payload => {\r\n                const item = peersRef.current.find(p => p.peerID === payload.id);\r\n                item.peer.signal(payload.signal);\r\n            });\r\n\r\n            socketRef.current.on(\"user left\",id=>{\r\n                console.log(\"Called...\");\r\n                const peerObj=peersRef.current.find(p=>p.peerID===id);\r\n                if(peerObj){\r\n                    peerObj.peer.destroy();\r\n                }\r\n                let remaining=[];\r\n                peersRef.current.forEach(row=>{\r\n                    if(row.peerID!==id){\r\n                        remaining.push(row.peer);\r\n                    }\r\n                })\r\n                const peers = peersRef.current.filter(p=>p.peerID!==id);\r\n                peersRef.current=peers;\r\n                setPeers(remaining);\r\n            })\r\n\r\n        })\r\n    }\r\n\r\n    const username_stun=process.env.USER_NAME || \"nmakadiya1@gmail.com\";\r\n    const passsword_stun=process.env.PASSWORD || \"12345678\";\r\n\r\n    console.log(\"Changed : \",username_stun,passsword_stun);\r\n\r\n     function createPeer(userToSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: true,\r\n            trickle: false,\r\n              config: {\r\n                iceServers: [{   \r\n                    urls: [ \"stun:bn-turn1.xirsys.com\" ]\r\n                }, \r\n                {   \r\n                    username: \"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",   \r\n                    credential: \"d88d47d0-84c9-11eb-a788-0242ac140004\",   \r\n                    urls: [       \r\n                        \"turn:bn-turn1.xirsys.com:80?transport=udp\",       \r\n                        \"turn:bn-turn1.xirsys.com:3478?transport=udp\",       \r\n                        \"turn:bn-turn1.xirsys.com:80?transport=tcp\",       \r\n                        \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",       \r\n                        \"turns:bn-turn1.xirsys.com:443?transport=tcp\",       \r\n                        \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"   \r\n                    ]\r\n                }],\r\n            },\r\n            stream,\r\n        });\r\n\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal,name:userCookie.name, GID:userCookie.GID })\r\n        })\r\n\r\n        return peer;\r\n    }\r\n\r\n    function addPeer(incomingSignal, callerID, stream) {\r\n        const peer = new Peer({\r\n            initiator: false,\r\n            trickle: false,\r\n              config: {\r\n                iceServers: [{   \r\n                    urls: [ \"stun:bn-turn1.xirsys.com\" ]\r\n                }, \r\n                {   \r\n                    username: \"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",   \r\n                    credential: \"d88d47d0-84c9-11eb-a788-0242ac140004\",   \r\n                    urls: [       \r\n                        \"turn:bn-turn1.xirsys.com:80?transport=udp\",       \r\n                        \"turn:bn-turn1.xirsys.com:3478?transport=udp\",       \r\n                        \"turn:bn-turn1.xirsys.com:80?transport=tcp\",       \r\n                        \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",       \r\n                        \"turns:bn-turn1.xirsys.com:443?transport=tcp\",       \r\n                        \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"   \r\n                    ]\r\n                }],\r\n            },\r\n            stream,\r\n        })\r\n\r\n        peer.on(\"signal\", signal => {\r\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\r\n        })\r\n\r\n        peer.signal(incomingSignal);\r\n\r\n        return peer;\r\n    }\r\n\r\n    const HandleAudio=()=>{\r\n        //Wants To Leave\r\n        if(isAudio){\r\n            window.location.reload();\r\n        }\r\n        //Wants to Join\r\n        else{\r\n            wantsToJoin();\r\n            setAudio(true);\r\n        }\r\n\r\n    }\r\n   \r\n    return (\r\n         <Container style={{height:90+'vh'}}>\r\n            <List>\r\n                <ListItem>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={HandleAudio}>\r\n                        {isAudio?\"Leave Stream\":\"Join Stream\"}\r\n                    </Button>\r\n                    </ListItem>\r\n\r\n                    {isAudio?<List>\r\n                    <ListItem className=\"video-list\">\r\n                        <div>\r\n                            <StyledVideo muted playsInline autoPlay ref={userVideo} style={{width:100+'%'}}/>\r\n                            {console.log(\"Log : \",peers,peersRef.current)}\r\n                            <Typography>You</Typography>\r\n                        </div>\r\n                    </ListItem>\r\n                            {console.log('PeerRef : ',peersRef.current)}\r\n                            {peersRef.current.map((peer, index) => {\r\n                            return (\r\n\r\n                                <ListItem className=\"video-list\" key={peer.peerID}>\r\n                                    <Video key={peer.peerID} peer={peer} />\r\n                                </ListItem>\r\n                            );\r\n                        })}\r\n                        </List>:null}\r\n            </List> \r\n           \r\n            \r\n        </Container>\r\n    );\r\n};\r\n\r\n\r\n\r\n\r\n\r\nexport default AudioChannel;\r\n","import React, { useState ,useEffect,useRef} from 'react'\r\nimport './Chat.css'\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport AddIcCallOutlinedIcon from '@material-ui/icons/AddIcCallOutlined';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport io from \"socket.io-client\";\r\nimport axios from \"axios\";\r\n\r\n \r\nfunction Chat(props) {\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n    const userName=userCookie.name;\r\n    const socketRef = useRef();\r\n    const [input,setInput] = useState('');\r\n    const [messages,setMessages]=useState([]);\r\n    console.log(\"Test\");\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n    console.log(process.env.NODE_ENV,url);\r\n\r\n    const userDetail={\r\n        room:props.roomID,\r\n        name:userCookie.name,\r\n        GID:userCookie.GID,\r\n        imgURI:\"123\"\r\n    }\r\n\r\n    window.onbeforeunload =()=>{\r\n        if(socketRef.current){\r\n            socketRef.current.close();\r\n        } \r\n    }\r\n\r\n    useEffect(() => {\r\n       \r\n        axios.get(`${url}chat?room=${props.roomID}`).then((res)=>{\r\n            console.log(res.data);\r\n            setMessages(res.data);\r\n        })\r\n\r\n\r\n        socketRef.current=io.connect(url);\r\n        socketRef.current.emit(\"join chat room\",userDetail);\r\n\r\n        console.log(\"Inside UseEffect : \",messages);\r\n\r\n        socketRef.current.on('recevied msg',(data)=>{\r\n            console.log(\"yes received..\");\r\n            setMessages((msgs)=>[...msgs,data]);\r\n            console.log(messages);\r\n        });\r\n\r\n    },[]);\r\n\r\n    \r\n\r\n    const sendMessage = (e)=>{\r\n        e.preventDefault();\r\n        const obj={\r\n            userName,\r\n            photoUri:\"123\",\r\n            msg:input,\r\n            time:new Date,\r\n            room:props.roomID\r\n        }\r\n        socketRef.current.emit('send msg',obj);\r\n    //     axios.post(`${url}chat`,obj,{headers: {\r\n    //     'Content-Type': 'application/json'\r\n    //   }}).then((res)=>{\r\n    //         console.log(res);\r\n    //     })\r\n        setInput('');\r\n    }\r\n\r\n\r\n    return (\r\n        <div className = 'chat'>\r\n            <div className=\"chat__header\">\r\n            <Avatar  src = \"\"/>\r\n            <p>Room Name</p>\r\n            </div>\r\n\r\n            <div className=\"chat__body\">\r\n                {messages.map((message,i)=>{\r\n                    return(\r\n                        <p key={i} className={`chat__message ${userCookie.name === message.userName && 'chat__receiver'}`}>\r\n                            <span className='chat__name'>{message.userName}</span>\r\n                            {message.msg}\r\n                            <span className='chat__timestamp'>{message.time}</span>\r\n                        </p>\r\n                    )\r\n                })}\r\n                \r\n            </div>\r\n            <div className='chat__footer'>\r\n                <IconButton>\r\n                    <EmojiEmotionsOutlinedIcon></EmojiEmotionsOutlinedIcon>\r\n                </IconButton>\r\n                <form>\r\n                    <input value = {input} onChange = { (e)=> setInput(e.target.value)} placeholder='Type a message' type='text'> \r\n                    </input>\r\n                    <button onClick = {sendMessage} type = 'submit'>Send message</button>\r\n                </form>\r\n                <IconButton>\r\n                  <AddIcCallOutlinedIcon></AddIcCallOutlinedIcon>\r\n                </IconButton>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React,{useState,useEffect} from 'react'\r\nimport AudioChannel from './AudioChannel';\r\nimport { unmountComponentAtNode } from \"react-dom\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport Container from '@material-ui/core/Container';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport * as Y from 'yjs'\r\nimport { WebsocketProvider } from 'y-websocket'\r\nimport { QuillBinding } from 'y-quill'\r\nimport Quill from 'quill'\r\nimport QuillCursors from 'quill-cursors'\r\nimport Chat from './Chat'\r\nimport axios from \"axios\";\r\n\r\nexport default function Room(props) {\r\n    const roomID = props.match.params.roomID;\r\n\r\n    Quill.register('modules/cursors', QuillCursors)\r\n\r\n    const ydoc = new Y.Doc()\r\n\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n\r\n    const username=userCookie.name;\r\n\r\n    const obj={\r\n            userName:userCookie.name,\r\n            photoUri:\"123\",\r\n            GID:userCookie.GID,\r\n            doc_name:\"xyz\",\r\n            doc_id:roomID,\r\n    }\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n    \r\n    useEffect(()=>{\r\n        console.log(obj);\r\n        axios.post(`${url}user_doc`,obj).then((res)=>{\r\n            console.log(res);\r\n        })\r\n    },[]);\r\n\r\n   \r\n\r\n    const provider = new WebsocketProvider('wss://shielded-sierra-61478.herokuapp.com',`${roomID}`, ydoc)\r\n    const type = ydoc.getText(`${roomID}`);\r\n\r\n    useEffect(()=>{\r\n        const EditorContainer = document.getElementById(\"editor\");\r\n\r\n        var toolbarOptions = [\r\n            ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n            ['blockquote', 'code-block'],\r\n        \r\n            [{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n            [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\r\n            [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\r\n            [{ 'direction': 'rtl' }],                         // text direction\r\n        \r\n            [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n        \r\n            [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\r\n            [{ 'font': [] }],\r\n            [{ 'align': [] }],\r\n            ['clean']  \r\n        ];\r\n\r\n        var editor = new Quill(EditorContainer, {\r\n            modules: {\r\n            cursors : true,\r\n            toolbar:toolbarOptions,\r\n            history: {\r\n                userOnly: true\r\n            }\r\n            },\r\n            placeholder: 'Start collaborating...',\r\n            theme: 'snow' // or 'bubble'\r\n        })   \r\n\r\n        const binding = new QuillBinding(type, editor, provider.awareness)\r\n        //console.log(provider.awareness);\r\n        if(!username)username='Anonymous';\r\n        provider.awareness.setLocalStateField('user', {\r\n            name: `${username}`,\r\n            color: 'blue'\r\n        });\r\n\r\n        // @ts-ignore\r\n        window.example = { provider, ydoc, type, binding, Y }\r\n    });\r\n    \r\n  \r\n   \r\n    return (\r\n            <div>\r\n                <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                spacing={1}\r\n                >\r\n                    <Grid item xs={2} style={{maxHeight:100+'vh'}}>\r\n                        <AudioChannel room={roomID} style={{height:'inherit'}}/>\r\n                    </Grid>\r\n                    <Grid item xs={7}>\r\n                        <Card>\r\n                            <div id=\"editor\"></div>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid \r\n                        item \r\n                        xs={3} \r\n                        style={{height:100+'%'}}\r\n                        alignItems=\"end\"\r\n                    >\r\n                        <Chat roomID={roomID}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport CreateRoom from \"./routes/CreateRoom\";\r\nimport Room from \"./routes/Room.js\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={CreateRoom} />\r\n        <Route path=\"/room/:roomID\" component={Room} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useState, useEffect } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport GoogleLogin from 'react-google-login';\r\nimport Home from './Home.js';\r\nimport {Button, Grid, Box} from '@material-ui/core';\r\n\r\nrequire('dotenv').config();\r\n\r\nconst Connect = () => {\r\n\r\n  const [cookie, setCookie] = useCookies(['']);\r\n  const cookies = new Cookies();\r\n  const userCookie=cookies.get('userCookie');\r\n  const [user,setUser]=useState(userCookie?true:false);\r\n  console.log(\"From ENV:\",process.env.CLIENT_ID);\r\n  const client_Id=process.env.CLIENT_ID || \"39603121170-058n9lara0vqjr2fomfv4nndgsd3aarm.apps.googleusercontent.com\";\r\n  \r\n  const responseGoogle = (response)=>{\r\n      console.log(\"Success\");\r\n      console.log(response);\r\n      let authCookie={\r\n        accessToken:response.accessToken,\r\n        tokenId:response.tokenId,\r\n        email:response.profileObj.email,\r\n        name:response.profileObj.name,\r\n        GID:response.googleId\r\n      }\r\n      console.log(authCookie);\r\n      setCookie('userCookie',authCookie);\r\n\r\n      setUser(true);\r\n\r\n  }\r\n\r\n  const fail = (res)=>{\r\n    console.log(\"Failed \",res);\r\n  }\r\n\r\n return (\r\n    <CookiesProvider>\r\n          <React.StrictMode>\r\n            {user ? <Home/> : \r\n\r\n              <Grid\r\n                container\r\n                direction=\"column\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                fullWidth\r\n                style={{backgroundColor:\"LightBlue\",height:100+'vh'}}\r\n              >\r\n                <Grid item xs={4} style={{minHeight:33+'vh', minWidth:100+'%'}}>\r\n                </Grid>\r\n\r\n                <Grid \r\n                    item xs={4} \r\n                    style={{ minHeight:33+'vh',minWidth:100+'%', display:'flex', justifyContent:'center', alignItems:'start'}}\r\n                >    \r\n                    <Box style={{textAlign:'center'}}>\r\n                      <h1 style={{fontFamily: 'Julius Sans One',fontSize:50+'px',color:\"black\"}}>Prodigy\r\n                        <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>A place to collaborate</strong></p>\r\n                      </h1>\r\n                      <GoogleLogin\r\n                        clientId={client_Id}\r\n                        onSuccess={responseGoogle}\r\n                        onFailure={fail}\r\n                      >\r\n                        <strong>Sign in with Google</strong>\r\n                      </GoogleLogin>\r\n                    </Box>\r\n                </Grid>\r\n\r\n                <Grid item xs={4} style={{minHeight:33+'vh', minWidth:100+'%'}}>\r\n                    \r\n                </Grid>\r\n            </Grid>\r\n          }\r\n          </React.StrictMode>\r\n    </CookiesProvider>\r\n  );\r\n};\r\n\r\nReactDOM.render(<Connect />, document.getElementById('root'));\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"]}}