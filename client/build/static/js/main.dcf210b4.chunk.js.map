{"version":3,"sources":["reportWebVitals.js","routes/CreateRoom.js","routes/AudioChannel.js","routes/Chat.js","routes/Room.js","Home.js","index.js"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","CreateRoom","props","userCookie","Cookies","get","useState","docs","setDocs","useEffect","axios","GID","res","console","log","data","classes","makeStyles","theme","root","flexGrow","paper","padding","spacing","textAlign","color","palette","text","secondary","useStyles","Grid","container","backgroundColor","height","item","xs","style","minWidth","display","justifyContent","alignItems","Box","fontFamily","fontSize","Button","size","className","variant","onClick","id","uuid","history","push","map","doc","i","doc_id","open","Paper","doc_name","require","config","Container","styled","div","StyledVideo","video","Video","ref","useRef","peer","on","stream","current","srcObject","playsInline","autoPlay","width","Typography","name","videoConstraints","window","innerHeight","innerWidth","AudioChannel","isAudio","setAudio","peers","setPeers","socketRef","userVideo","peersRef","userDetail","room","onbeforeunload","close","wantsToJoin","io","connect","navigator","mediaDevices","getUserMedia","audio","emit","users","forEach","user","userToSignal","callerID","Peer","initiator","trickle","iceServers","urls","username","credential","signal","createPeer","socketID","peerID","payload","incomingSignal","addPeer","find","p","peerObj","destroy","remaining","row","filter","username_stun","process","USER_NAME","passsword_stun","PASSWORD","List","ListItem","location","reload","muted","index","Chat","userName","input","setInput","messages","setMessages","url","roomID","imgURI","msgs","Avatar","src","message","msg","time","IconButton","value","onChange","e","target","placeholder","type","preventDefault","obj","photoUri","Date","Room","match","params","Quill","register","QuillCursors","ydoc","Y","post","provider","WebsocketProvider","getText","EditorContainer","document","getElementById","editor","modules","cursors","toolbar","userOnly","binding","QuillBinding","awareness","setLocalStateField","example","direction","justify","maxHeight","Card","Home","path","exact","component","Connect","useCookies","setCookie","setUser","CLIENT_ID","client_Id","CookiesProvider","StrictMode","fullWidth","minHeight","clientId","onSuccess","response","authCookie","accessToken","tokenId","email","profileObj","googleId","onFailure","ReactDOM","render"],"mappings":"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","file":"static/js/main.dcf210b4.chunk.js","sourcesContent":["const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React,{useState,useEffect} from \"react\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport {Button, Grid, Box} from '@material-ui/core';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport axios from \"axios\";\r\n\r\nconst CreateRoom = (props) => {\r\n    \r\n    function create() {\r\n        const id = uuid();\r\n        props.history.push(`/room/${id}`);\r\n    }\r\n\r\n    function open(doc){\r\n        props.history.push(`/room/${doc.doc_id}`);\r\n    }\r\n\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n\r\n    const [docs,setDocs]=useState([]);\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n\r\n    useEffect(() => {\r\n        axios.get(`${url}user_doc/byUser?GID=${userCookie.GID}`).then((res)=>{\r\n            console.log(res.data);\r\n            setDocs(res.data);\r\n        })\r\n    }, []);\r\n\r\n    console.log(\"Doc List : \",docs);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        root: {\r\n            flexGrow: 1,\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(2),\r\n            textAlign: 'center',\r\n            color: theme.palette.text.secondary,\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n\r\n        <Grid\r\n            container\r\n            container \r\n            spacing={1}\r\n            fullWidth\r\n            style={{backgroundColor:\"Azure\",height:100+'vh',padding:\"2%\"}}\r\n        >\r\n            <Grid \r\n                item xs={12} \r\n                style={{minWidth:100+'%', display:'flex', justifyContent:'center', alignItems:'start'}}\r\n            >    \r\n                <Box style={{textAlign:'center'}}>\r\n                    <h1 style={{fontFamily: 'Julius Sans One',fontSize:50+'px',color:\"black\"}}>Prodigy\r\n                        <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>A place to collaborate</strong></p>\r\n                    </h1>\r\n                    <Button size=\"large\" className=\"room-button\" variant=\"contained\" color=\"primary\" onClick={create}>Create New Doc</Button>\r\n                </Box>\r\n            </Grid>\r\n\r\n            {docs.map((doc,i)=>{\r\n                return(\r\n                    <Grid key={i} item xs={3} >\r\n                        <Button key={i} onClick={()=>open(doc)}>\r\n                            <Paper className={classes.paper}>\r\n                                <h1>{doc.doc_name}\r\n                                    <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>{doc.doc_id}</strong></p>\r\n                                </h1>\r\n                            </Paper>\r\n                        </Button>\r\n                    </Grid>\r\n                )\r\n            })}\r\n\r\n\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default CreateRoom;\r\n","import React, { useEffect, useRef, useState } from \"react\";\nimport io from \"socket.io-client\";\nimport Peer from \"simple-peer\";\nimport styled from \"styled-components\";\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\nimport{ Card, List, ListItem,Button,Typography, Grid, Divider, ListItemText} from '@material-ui/core';\nimport { v1 as uuid } from \"uuid\";\nrequire('dotenv').config();\n\nconst Container = styled.div`\n    padding: 20px;\n    display: flex;\n    height: 100vh;\n    width: 90%;\n    margin: auto;\n    flex-wrap: wrap;\n`;\n\nconst StyledVideo = styled.video`\n    height: 40%;\n    width: 50%;\n`;\n\nconst Video = (props) => {\n    const ref = useRef();\n\n    useEffect(() => {\n        props.peer.peer.on(\"stream\", stream => {\n            ref.current.srcObject = stream;\n        })\n    });\n\n    return (\n        <div>\n            <StyledVideo playsInline autoPlay ref={ref} style={{width:100+'%'}} />\n            <Typography>{props.peer.name}</Typography>\n        </div>\n        \n    );\n}\n\n\nconst videoConstraints = {\n    height: window.innerHeight / 2,\n    width: window.innerWidth / 2\n};\n\nconst AudioChannel = (props) => {\n\n    const cookies = new Cookies();\n    const userCookie=cookies.get('userCookie');\n\n    const [isAudio,setAudio]=useState(false);\n    const [peers, setPeers] = useState([]);\n    const socketRef = useRef();\n    const userVideo = useRef();\n    const peersRef = useRef([]);\n    const roomID = props.room;\n\n    const userDetail={\n        room:roomID,\n        name:userCookie.name,\n        GID:userCookie.GID\n    }\n\n    console.log(\"On Top : \",peers);\n\n    useEffect(()=>{\n         window.onbeforeunload =()=>{\n            if(socketRef.current){\n                socketRef.current.close();\n            } \n            setPeers([]);\n         }\n    })\n\n    const wantsToJoin=()=>{\n        socketRef.current = io.connect(\"/\");\n        navigator.mediaDevices.getUserMedia({ video: videoConstraints, audio: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n            socketRef.current.emit(\"join room\", userDetail);\n            socketRef.current.on(\"all users\", users => {\n                const peers = [];\n                users.forEach(user => {\n                    const peer = createPeer(user.socketID, socketRef.current.id, stream);\n                    peersRef.current.push({\n                        peerID: user.socketID,\n                        peer,\n                        name:user.name,\n                        GID:user.GID\n                    })\n                    peers.push(peer);\n                })\n                setPeers(peers);\n            })\n\n            socketRef.current.on(\"user joined\", payload => {\n                const peer = addPeer(payload.signal, payload.callerID, stream);\n                peersRef.current.push({\n                    peerID: payload.callerID,\n                    peer,\n                    name:payload.name,\n                    GID:payload.GID\n                })\n\n                setPeers(users => [...users, peer]);\n            });\n\n            socketRef.current.on(\"receiving returned signal\", payload => {\n                const item = peersRef.current.find(p => p.peerID === payload.id);\n                item.peer.signal(payload.signal);\n            });\n\n            socketRef.current.on(\"user left\",id=>{\n                console.log(\"Called...\");\n                const peerObj=peersRef.current.find(p=>p.peerID===id);\n                if(peerObj){\n                    peerObj.peer.destroy();\n                }\n                let remaining=[];\n                peersRef.current.forEach(row=>{\n                    if(row.peerID!==id){\n                        remaining.push(row.peer);\n                    }\n                })\n                const peers = peersRef.current.filter(p=>p.peerID!==id);\n                peersRef.current=peers;\n                setPeers(remaining);\n            })\n\n        })\n    }\n\n    const username_stun=process.env.USER_NAME || \"nmakadiya1@gmail.com\";\n    const passsword_stun=process.env.PASSWORD || \"12345678\";\n\n    console.log(\"Changed : \",username_stun,passsword_stun);\n\n     function createPeer(userToSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: true,\n            trickle: false,\n              config: {\n                iceServers: [{   \n                    urls: [ \"stun:bn-turn1.xirsys.com\" ]\n                }, \n                {   \n                    username: \"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",   \n                    credential: \"d88d47d0-84c9-11eb-a788-0242ac140004\",   \n                    urls: [       \n                        \"turn:bn-turn1.xirsys.com:80?transport=udp\",       \n                        \"turn:bn-turn1.xirsys.com:3478?transport=udp\",       \n                        \"turn:bn-turn1.xirsys.com:80?transport=tcp\",       \n                        \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",       \n                        \"turns:bn-turn1.xirsys.com:443?transport=tcp\",       \n                        \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"   \n                    ]\n                }],\n            },\n            stream,\n        });\n\n\n        peer.on(\"signal\", signal => {\n            socketRef.current.emit(\"sending signal\", { userToSignal, callerID, signal,name:userCookie.name, GID:userCookie.GID })\n        })\n\n        return peer;\n    }\n\n    function addPeer(incomingSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: false,\n            trickle: false,\n              config: {\n                iceServers: [{   \n                    urls: [ \"stun:bn-turn1.xirsys.com\" ]\n                }, \n                {   \n                    username: \"qHtLVEHF6H9ZmteYAHm3-qOkRrPjNYQa1Pa1IxlDpVP_KQHIVuYk-NnNtveMDgijAAAAAGBOEKJOZWVsTWFrYWRpeWE=\",   \n                    credential: \"d88d47d0-84c9-11eb-a788-0242ac140004\",   \n                    urls: [       \n                        \"turn:bn-turn1.xirsys.com:80?transport=udp\",       \n                        \"turn:bn-turn1.xirsys.com:3478?transport=udp\",       \n                        \"turn:bn-turn1.xirsys.com:80?transport=tcp\",       \n                        \"turn:bn-turn1.xirsys.com:3478?transport=tcp\",       \n                        \"turns:bn-turn1.xirsys.com:443?transport=tcp\",       \n                        \"turns:bn-turn1.xirsys.com:5349?transport=tcp\"   \n                    ]\n                }],\n            },\n            stream,\n        })\n\n        peer.on(\"signal\", signal => {\n            socketRef.current.emit(\"returning signal\", { signal, callerID })\n        })\n\n        peer.signal(incomingSignal);\n\n        return peer;\n    }\n\n    const HandleAudio=()=>{\n        //Wants To Leave\n        if(isAudio){\n            window.location.reload();\n        }\n        //Wants to Join\n        else{\n            wantsToJoin();\n            setAudio(true);\n        }\n\n    }\n   \n    return (\n         <Container style={{height:90+'vh'}}>\n            <List>\n                <ListItem>\n                    <Button variant=\"contained\" color=\"primary\" onClick={HandleAudio}>\n                        {isAudio?\"Leave Stream\":\"Join Stream\"}\n                    </Button>\n                    </ListItem>\n\n                    {isAudio?<List>\n                    <ListItem className=\"video-list\">\n                        <div>\n                            <StyledVideo muted playsInline autoPlay ref={userVideo} style={{width:100+'%'}}/>\n                            {console.log(\"Log : \",peers,peersRef.current)}\n                            <Typography>You</Typography>\n                        </div>\n                    </ListItem>\n                            {console.log('PeerRef : ',peersRef.current)}\n                            {peersRef.current.map((peer, index) => {\n                            return (\n\n                                <ListItem className=\"video-list\" key={peer.peerID}>\n                                    <Video key={peer.peerID} peer={peer} />\n                                </ListItem>\n                            );\n                        })}\n                        </List>:null}\n            </List> \n           \n            \n        </Container>\n    );\n};\n\n\n\n\n\nexport default AudioChannel;\n","import React, { useState ,useEffect,useRef} from 'react'\r\nimport './Chat.css'\r\nimport {Avatar,IconButton} from \"@material-ui/core\";\r\nimport EmojiEmotionsOutlinedIcon from '@material-ui/icons/EmojiEmotionsOutlined';\r\nimport AddIcCallOutlinedIcon from '@material-ui/icons/AddIcCallOutlined';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport io from \"socket.io-client\";\r\nimport axios from \"axios\";\r\n\r\n \r\nfunction Chat(props) {\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n    const userName=userCookie.name;\r\n    const socketRef = useRef();\r\n    const [input,setInput] = useState('');\r\n    const [messages,setMessages]=useState([]);\r\n    console.log(\"Test\");\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n    console.log(process.env.NODE_ENV,url);\r\n\r\n    const userDetail={\r\n        room:props.roomID,\r\n        name:userCookie.name,\r\n        GID:userCookie.GID,\r\n        imgURI:\"123\"\r\n    }\r\n\r\n    window.onbeforeunload =()=>{\r\n        if(socketRef.current){\r\n            socketRef.current.close();\r\n        } \r\n    }\r\n\r\n    useEffect(() => {\r\n       \r\n        axios.get(`${url}chat?room=${props.roomID}`).then((res)=>{\r\n            console.log(res.data);\r\n            setMessages(res.data);\r\n        })\r\n\r\n\r\n        socketRef.current=io.connect(url);\r\n        socketRef.current.emit(\"join chat room\",userDetail);\r\n\r\n        console.log(\"Inside UseEffect : \",messages);\r\n\r\n        socketRef.current.on('recevied msg',(data)=>{\r\n            console.log(\"yes received..\");\r\n            setMessages((msgs)=>[...msgs,data]);\r\n            console.log(messages);\r\n        });\r\n\r\n    },[]);\r\n\r\n    \r\n\r\n    const sendMessage = (e)=>{\r\n        e.preventDefault();\r\n        const obj={\r\n            userName,\r\n            photoUri:\"123\",\r\n            msg:input,\r\n            time:new Date,\r\n            room:props.roomID\r\n        }\r\n        socketRef.current.emit('send msg',obj);\r\n    //     axios.post(`${url}chat`,obj,{headers: {\r\n    //     'Content-Type': 'application/json'\r\n    //   }}).then((res)=>{\r\n    //         console.log(res);\r\n    //     })\r\n        setInput('');\r\n    }\r\n\r\n\r\n    return (\r\n        <div className = 'chat'>\r\n            <div className=\"chat__header\">\r\n            <Avatar  src = \"\"/>\r\n            <p>Room Name</p>\r\n            </div>\r\n\r\n            <div className=\"chat__body\">\r\n                {messages.map((message,i)=>{\r\n                    return(\r\n                        <p key={i} className={`chat__message ${userCookie.name === message.userName && 'chat__receiver'}`}>\r\n                            <span className='chat__name'>{message.userName}</span>\r\n                            {message.msg}\r\n                            <span className='chat__timestamp'>{message.time}</span>\r\n                        </p>\r\n                    )\r\n                })}\r\n                \r\n            </div>\r\n            <div className='chat__footer'>\r\n                <IconButton>\r\n                    <EmojiEmotionsOutlinedIcon></EmojiEmotionsOutlinedIcon>\r\n                </IconButton>\r\n                <form>\r\n                    <input value = {input} onChange = { (e)=> setInput(e.target.value)} placeholder='Type a message' type='text'> \r\n                    </input>\r\n                    <button onClick = {sendMessage} type = 'submit'>Send message</button>\r\n                </form>\r\n                <IconButton>\r\n                  <AddIcCallOutlinedIcon></AddIcCallOutlinedIcon>\r\n                </IconButton>\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React,{useState,useEffect} from 'react'\r\nimport AudioChannel from './AudioChannel';\r\nimport { unmountComponentAtNode } from \"react-dom\";\r\nimport { v1 as uuid } from \"uuid\";\r\nimport Container from '@material-ui/core/Container';\r\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Card from '@material-ui/core/Card';\r\nimport * as Y from 'yjs'\r\nimport { WebsocketProvider } from 'y-websocket'\r\nimport { QuillBinding } from 'y-quill'\r\nimport Quill from 'quill'\r\nimport QuillCursors from 'quill-cursors'\r\nimport Chat from './Chat'\r\nimport axios from \"axios\";\r\n\r\nexport default function Room(props) {\r\n    const roomID = props.match.params.roomID;\r\n\r\n    Quill.register('modules/cursors', QuillCursors)\r\n\r\n    const ydoc = new Y.Doc()\r\n\r\n    const cookies = new Cookies();\r\n    const userCookie=cookies.get('userCookie');\r\n\r\n    const username=userCookie.name;\r\n\r\n    const obj={\r\n            userName:userCookie.name,\r\n            photoUri:\"123\",\r\n            GID:userCookie.GID,\r\n            doc_name:\"xyz\",\r\n            doc_id:roomID,\r\n    }\r\n\r\n    const url = (process.env.NODE_ENV===\"production\" ? \"https://thawing-dawn-49846.herokuapp.com/\" : \"http://localhost:5000/\");\r\n    \r\n    useEffect(()=>{\r\n        console.log(obj);\r\n        axios.post(`${url}user_doc`,obj).then((res)=>{\r\n            console.log(res);\r\n        })\r\n    },[]);\r\n\r\n   \r\n\r\n    const provider = new WebsocketProvider('wss://shielded-sierra-61478.herokuapp.com',`${roomID}`, ydoc)\r\n    const type = ydoc.getText(`${roomID}`);\r\n\r\n    useEffect(()=>{\r\n        const EditorContainer = document.getElementById(\"editor\");\r\n\r\n        var toolbarOptions = [\r\n            ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\r\n            ['blockquote', 'code-block'],\r\n        \r\n            [{ 'header': 1 }, { 'header': 2 }],               // custom button values\r\n            [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n            [{ 'script': 'sub'}, { 'script': 'super' }],      // superscript/subscript\r\n            [{ 'indent': '-1'}, { 'indent': '+1' }],          // outdent/indent\r\n            [{ 'direction': 'rtl' }],                         // text direction\r\n        \r\n            [{ 'size': ['small', false, 'large', 'huge'] }],  // custom dropdown\r\n            [{ 'header': [1, 2, 3, 4, 5, 6, false] }],\r\n        \r\n            [{ 'color': [] }, { 'background': [] }],          // dropdown with defaults from theme\r\n            [{ 'font': [] }],\r\n            [{ 'align': [] }],\r\n            ['clean']  \r\n        ];\r\n\r\n        var editor = new Quill(EditorContainer, {\r\n            modules: {\r\n            cursors : true,\r\n            toolbar:toolbarOptions,\r\n            history: {\r\n                userOnly: true\r\n            }\r\n            },\r\n            placeholder: 'Start collaborating...',\r\n            theme: 'snow' // or 'bubble'\r\n        })   \r\n\r\n        const binding = new QuillBinding(type, editor, provider.awareness)\r\n        //console.log(provider.awareness);\r\n        if(!username)username='Anonymous';\r\n        provider.awareness.setLocalStateField('user', {\r\n            name: `${username}`,\r\n            color: 'blue'\r\n        });\r\n\r\n        // @ts-ignore\r\n        window.example = { provider, ydoc, type, binding, Y }\r\n    });\r\n    \r\n  \r\n   \r\n    return (\r\n            <div>\r\n                <Grid\r\n                container\r\n                direction=\"row\"\r\n                justify=\"center\"\r\n                alignItems=\"center\"\r\n                spacing={1}\r\n                >\r\n                    <Grid item xs={2} style={{maxHeight:100+'vh'}}>\r\n                        <AudioChannel room={roomID} style={{height:'inherit'}}/>\r\n                    </Grid>\r\n                    <Grid item xs={7}>\r\n                        <Card>\r\n                            <div id=\"editor\"></div>\r\n                        </Card>\r\n                    </Grid>\r\n                    <Grid \r\n                        item \r\n                        xs={3} \r\n                        style={{height:100+'%'}}\r\n                        alignItems=\"end\"\r\n                    >\r\n                        <Chat roomID={roomID}/>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from \"react-router-dom\";\r\nimport CreateRoom from \"./routes/CreateRoom\";\r\nimport Room from \"./routes/Room.js\";\r\n\r\nfunction Home() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path=\"/\" exact component={CreateRoom} />\r\n        <Route path=\"/room/:roomID\" component={Room} />\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}\r\n\r\nexport default Home;","import React, { useState, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport { CookiesProvider, Cookies,useCookies } from 'react-cookie';\nimport GoogleLogin from 'react-google-login';\nimport Home from './Home.js';\nimport {Button, Grid, Box} from '@material-ui/core';\n\nrequire('dotenv').config();\n\nconst Connect = () => {\n\n  const [cookie, setCookie] = useCookies(['']);\n  const cookies = new Cookies();\n  const userCookie=cookies.get('userCookie');\n  const [user,setUser]=useState(userCookie?true:false);\n  console.log(\"From ENV:\",process.env.CLIENT_ID);\n  const client_Id=process.env.CLIENT_ID || \"320579900532-2v5d813s6a6apgda92l4k266kdjr2aht.apps.googleusercontent.com\";\n  \n  const responseGoogle = (response)=>{\n      console.log(\"Success\");\n      console.log(response);\n      let authCookie={\n        accessToken:response.accessToken,\n        tokenId:response.tokenId,\n        email:response.profileObj.email,\n        name:response.profileObj.name,\n        GID:response.googleId\n      }\n      console.log(authCookie);\n      setCookie('userCookie',authCookie);\n\n      setUser(true);\n\n  }\n\n  const fail = (res)=>{\n    console.log(\"Failed \",res);\n  }\n\n return (\n    <CookiesProvider>\n          <React.StrictMode>\n            {user ? <Home/> : \n\n              <Grid\n                container\n                direction=\"column\"\n                justify=\"center\"\n                alignItems=\"center\"\n                fullWidth\n                style={{backgroundColor:\"LightBlue\",height:100+'vh'}}\n              >\n                <Grid item xs={4} style={{minHeight:33+'vh', minWidth:100+'%'}}>\n                </Grid>\n\n                <Grid \n                    item xs={4} \n                    style={{ minHeight:33+'vh',minWidth:100+'%', display:'flex', justifyContent:'center', alignItems:'start'}}\n                >    \n                    <Box style={{textAlign:'center'}}>\n                      <h1 style={{fontFamily: 'Julius Sans One',fontSize:50+'px',color:\"black\"}}>Prodigy\n                        <p style={{fontFamily: 'Julius Sans One',fontSize:13+'px',color:\"black\"}}><strong>A place to collaborate</strong></p>\n                      </h1>\n                      <GoogleLogin\n                        clientId={client_Id}\n                        onSuccess={responseGoogle}\n                        onFailure={fail}\n                      >\n                        <strong>Sign in with Google</strong>\n                      </GoogleLogin>\n                    </Box>\n                </Grid>\n\n                <Grid item xs={4} style={{minHeight:33+'vh', minWidth:100+'%'}}>\n                    \n                </Grid>\n            </Grid>\n          }\n          </React.StrictMode>\n    </CookiesProvider>\n  );\n};\n\nReactDOM.render(<Connect />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}